<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>P-Librus: Rejestr Lekcji</title>
  <style>
  body {
      font-family: Arial, sans-serif;
      background: linear-gradient(to right, #e6ebed, #f5f7f9);
      margin: 0;
      padding: 0;
    }
    .header {
      display: flex;
      align-items: center;
      padding: 10px 20px;
      background: linear-gradient(to right, #d4dce4, #f2f3f5);
    }
    .logo {
      display: flex;
      align-items: center;
      margin-right: auto;
    }
    .logo img {
      height: 40px;
      margin-right: 10px;
    }
    .logo span {
      font-size: 24px;
      color: #8a2e6e;
      font-weight: bold;
    }
    .user-info {
      margin-right: 20px;
      font-size: 14px;
    }
    .menu {
      display: flex;
      justify-content: center;
      padding: 10px;
      background-color: #edf0f3;
      flex-wrap: wrap;
    }
    .menu-item {
      text-align: center;
      margin: 10px;
      position: relative;
    }
    .menu-item a {
      font-size: 14px;
      display: block;
      padding: 10px 15px;
      background-color: #ffffff;
      border: 1px solid #ccc;
      border-radius: 10px;
      box-shadow: 1px 1px 5px rgba(0,0,0,0.1);
      text-decoration: none;
      color: black;
      transition: background-color 0.3s;
    }
    .menu-item a:hover {
      background-color: #f0f0f0;
    }
    .badge {
      position: absolute;
      top: -5px;
      right: -5px;
      background-color: red;
      color: white;
      font-size: 10px;
      padding: 2px 5px;
      border-radius: 50%;
    }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #dfe9f3, #ffffff);
      padding: 40px;
      color: #333;
    }
    .lesson-box, .history-box {
      background: #ffffff;
      padding: 30px;
      border-radius: 15px;
      margin-bottom: 30px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    .dzial-option {
      background-color: #000;
      color: #fff;
      font-weight: bold;
    }
    h2 {
      color: #2a6f97;
    }
    label {
      font-weight: 600;
      display: block;
      margin-top: 15px;
      color: #34495e;
    }
    select, textarea, input[type="date"], button {
      width: 100%;
      padding: 10px;
      margin-top: 8px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 14px;
    }
    button {
      background: #2a6f97;
      color: white;
      border: none;
      border-radius: 7px;
      cursor: pointer;
      margin-top: 20px;
      font-weight: bold;
      transition: background 0.3s;
    }
    button:hover {
      background: #1b4965;
    }
    ul {
      padding-left: 25px;
    }
    .frekwencja-wrapper {
      margin-bottom: 15px;
      padding: 10px;
      background: #f0f8ff;
      border-radius: 8px;
    }
    .frekwencja-wrapper label {
      font-weight: 500;
      margin-bottom: 5px;
    }
    .frekwencja-wrapper span {
      margin-right: 10px;
    }
	#tabela-klas th, #tabela-klas td {
  border-bottom: 1px solid #ccc;
  padding: 8px;
  text-align: center;
}
#tabela-klas tr:hover {
  background-color: #f2f2f2;
}
.top-alert {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  background-color: #2a6f97;
  color: #ffffff;
  padding: 1em 2em;
  font-weight: bold;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  z-index: 1000;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.close-btn {
  background: none;
  border: none;
  font-size: 1.5em;
  line-height: 1;
  cursor: pointer;
  color: #ffffff;
}
td.pasek {
  width: 10px;
}

.pasek.dzien1 { background-color: #4CAF50; }
.pasek.dzien2 { background-color: #2196F3; }
.pasek.bio8   { background-color: #FF9800; }
.pasek.ogolna { background-color: #9C27B0; }


  </style>
</head>
<body>






<div class="header">
    <div class="logo">
      <img src="21 maj 2025, 16_13_32.png" alt="P-Librus logo">
      <span>P-Librus</span>
    </div>
    <div class="user-info">
      Zalogowany jako: <strong>Piotr Rejmentowski (nauczyciel)</strong>
    </div>

  </div>

    <div class="menu">
    <div class="menu-item"><a href="indywidualni.html">Indywidualni</a></div>
    <div class="menu-item"><a href="Lekcja.html">Lekcja</a></div>
    <div class="menu-item"><a href="Oceny.html">Oceny</a></div>
    <div class="menu-item"><a href="Zachowanie.html">Zachowanie</a></div>
    <div class="menu-item"><a href="organizacja.html">Organizacja</a></div>
    <div class="menu-item"><a href="wiadomosci.html">wiadomoÅ›ci</a></div>
    <div class="menu-item"><a href="Ogloszenia.html">ogÅ‚oszenia</a></div>
    <div class="menu-item"><a href="Terminarz.html">Terminarz</a></div>
  </div>
<div class="lesson-box">
  <h2>PANEL NAUCZYCIELA LEKCJI</h2>

  <div id="wybor-klasy">
  <h2>Wybierz klasÄ™ do wpisania nowej lekcji lub edycji.</h2>
  <table style="width: 100%; border-collapse: collapse;" id="tabela-klas">
    <thead>
      <tr>
		<th><i>Kolor</th>
        <th><i>Klasa</th>
        <th><i>Ostatni temat</th>
        <th><i>Data ostatniej lekcji</th>
        <th></th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<!-- Ukryty select, ktÃ³ry nadal uÅ¼ywany w kodzie -->
<select id="klasa-select" style="display: none;">
  <option value="6I-JÄ™zyk_Piotrowski">6I - JÄ™zyk Piotrowski</option>
  <option value="6L-JÄ™zyk_Piotrowski">6L - JÄ™zyk Piotrowski</option>
  <option value="7F-JÄ™zyk_Piotrowski">7F - JÄ™zyk Piotrowski</option>
  <option value="7J-JÄ™zyk_Piotrowski">7J - JÄ™zyk Piotrowski</option>
  <option value="8A-JÄ™zyk_Piotrowski">8A - JÄ™zyk Piotrowski</option>
  <option value="8B-JÄ™zyk_Piotrowski">8B - JÄ™zyk Piotrowski</option>
  <option value="8C-JÄ™zyk_Piotrowski">8C - JÄ™zyk Piotrowski</option>
  <option value="4D-Przyroda">4D - Przyroda</option>
  <option value="1E-JÄ™zyk_Piotrowski">1E - JÄ™zyk Piotrowski</option>
  <option value="2G-JÄ™zyk_Piotrowski">2G - JÄ™zyk Piotrowski</option>
  <option value="3H-JÄ™zyk_Piotrowski">3H - JÄ™zyk Piotrowski</option>
  <option value="7FJ-Biologia">7FJ - Biologia</option>
  <option value="5K-Biologia">5K - Biologia</option>
  <option value="6I-Biologia">6i - Biologia</option>
  <option value="8A-Biologia">8A - Biologia</option>
  <option value="Dodatkowa_Biologia">Dodatkowa biologia</option>
  <option value="Edukacja_ogÃ³lna">Edukacja ogÃ³lna</option>
</select>


  <div id="lekcja-form" style="display: none;">
<h3 id="wybrana-klasa" style="color: #2a6f97;"></h3>

  <label for="przedmiot-select">Przedmiot:</label>
  <select id="przedmiot-select">
    <option value="biologia">Biologia</option>
    <option value="jezyk piotrowski">JÄ™zyk Piotrowski</option>
    <option value="geografia">Geografia</option>
    <option value="fizyka">Fizyka</option>
    <option value="jezyk angielski">JÄ™zyk angielski</option>
	<option value="przyroda">Przyroda</option>
    <option value="inny">Inny</option>
	<option value="Edukacja_ogÃ³lna">Edukacja ogÃ³lna</option>
  </select>

  <label for="data">Data:</label>
  <input type="date" id="data" />
  
  <br><br>
  <div class="lesson-box">
  <h2>PostÄ™p realizacji materiaÅ‚u</h2>
  <div id="postep-box"></div>
</div>

<script>
	function getPominieteTematy(klasa) {
  return JSON.parse(localStorage.getItem(`pominiete_${klasa}`)) || [];
}

function pokazPostep(klasa) {
  const box = document.getElementById("postep-box");
  box.innerHTML = "";

  const wszystkieTematy = tematy[klasa] || [];
  const klucz = `lekcje_${klasa}`;
  const lekcje = JSON.parse(localStorage.getItem(klucz)) || [];

  const zrealizowaneTematy = new Set(lekcje.map(l => l.temat));

  const liczbaZrealizowanych = wszystkieTematy.filter(t => zrealizowaneTematy.has(t)).length;
  const liczbaWszystkich = wszystkieTematy.length;
  const procent = liczbaWszystkich ? Math.round((liczbaZrealizowanych / liczbaWszystkich) * 100) : 0;

  box.innerHTML = `
    <p>Zrealizowano <strong>${liczbaZrealizowanych}</strong> z <strong>${liczbaWszystkich}</strong> tematÃ³w (${procent}%)</p>
    <div style="background: #eee; border-radius: 10px; overflow: hidden; height: 20px;">
      <div style="width: ${procent}%; background: #2a6f97; height: 100%; color: white; text-align: center; font-size: 12px;">
        ${procent}%
      </div>
    </div>
  `;
}
function pokazPostep(klasa) {
  const box = document.getElementById("postep-box");
  box.innerHTML = "";

  const pominiete = getPominieteTematy(klasa);
const wszystkieTematy = (tematy[klasa] || []).filter(t => {
  const tLower = t.toLowerCase();
  // wyklucz pominiÄ™te tematy
  if (pominiete.includes(t)) return false;

  // zachowaj istniejÄ…ce warunki filtrowania
  return !t.startsWith("DZIAÅ") &&
    (tLower.includes("powtÃ³rzenie") ||
     tLower.includes("sprawdzian") ||
     tLower.includes("omÃ³wienie sprawdzianu") ||
     tLower.includes("egzamin") ||
     tLower.includes("jak na egzaminie") ||
     (!t.startsWith("DZIAÅ") && !tLower.includes("dziaÅ‚")));
});


  const klucz = `lekcje_${klasa}`;
  const lekcje = JSON.parse(localStorage.getItem(klucz)) || [];

  const zrealizowaneTematy = new Set(lekcje.map(l => l.temat));
  const liczbaZrealizowanych = wszystkieTematy.filter(t => zrealizowaneTematy.has(t)).length;
  const liczbaWszystkich = wszystkieTematy.length;
  const procent = liczbaWszystkich ? Math.round((liczbaZrealizowanych / liczbaWszystkich) * 100) : 0;

  let ostatniaLekcja = lekcje.length > 0 ? lekcje[lekcje.length - 1] : null;

  box.innerHTML = `
    <p>Zrealizowano <strong>${liczbaZrealizowanych}</strong> z <strong>${liczbaWszystkich}</strong> tematÃ³w (${procent}%)</p>
    <div style="background: #eee; border-radius: 10px; overflow: hidden; height: 20px; margin-bottom: 10px;">
      <div style="width: ${procent}%; background: #2a6f97; height: 100%; color: white; text-align: center; font-size: 12px;">
        ${procent}%
      </div>
    </div>
    ${
      ostatniaLekcja
        ? `
          <p><strong>Ostatni temat:</strong> ${ostatniaLekcja.temat}</p>
          <p><strong>Data lekcji:</strong> ${ostatniaLekcja.data}</p>
          ${ostatniaLekcja.opis ? `<p><strong>Komentarz:</strong> ${ostatniaLekcja.opis}</p>` : ""}
        `
        : `<p>Brak zrealizowanych tematÃ³w.</p>`
    }
  `;
}



</script>
  
  

  <label for="temat-select">Temat lekcji:</label>
  <select id="temat-select"></select>
  
<label for="nowy-temat">Dodaj wÅ‚asny temat lekcji:</label>
<input type="text" id="nowy-temat" placeholder="Wpisz nowy temat..." />
<button type="button" onclick="dodajWlasnyTemat()">Dodaj temat</button>

<label for="opis">Dodatkowe notatki:</label>
<textarea id="opis" rows="3"></textarea>

  <label>Frekwencja uczniÃ³w:</label>
<button type="button" onclick="zaznaczWszystkichObecnosc()" style="margin-bottom: 10px;">Zaznacz wszystkich jako ObecnoÅ›Ä‡</button>
<div id="frekwencja-box"></div>

  <button onclick="zapiszLekcje()">Zapisz lekcjÄ™</button>
</div>

<script>
  function dodajWlasnyTemat() {
    const nowyTematInput = document.getElementById("nowy-temat");
    const nowyTemat = nowyTematInput.value.trim();

    if (nowyTemat === "") {
      alert("ProszÄ™ wpisaÄ‡ temat lekcji.");
      return;
    }

    const klasa = document.getElementById("klasa-select").value;
    if (!tematy[klasa]) tematy[klasa] = [];

    tematy[klasa].push(nowyTemat);

    const tematSelect = document.getElementById("temat-select");
    const option = document.createElement("option");
    option.value = nowyTemat;
    option.textContent = nowyTemat;
    tematSelect.appendChild(option);

    tematSelect.value = nowyTemat;
    nowyTematInput.value = "";
  }

</script>
	
<div class="history-box" id="historia-box" style="display: none;">
  <h2>Historia lekcji</h2>
  <ul id="historia-lekcji"></ul>
</div>

</div> <!-- zamkniÄ™cie #lekcja-form -->

<script>
  const uczniowie = {
	'6I-JÄ™zyk_Piotrowski': ['Jagoda', 'Krystian', 'Justyna'],
	'6L-JÄ™zyk_Piotrowski': ['PaweÅ‚', 'Ola', 'Natalia', 'Karol'],
    '7F-JÄ™zyk_Piotrowski': ['Ola', 'Julia', 'Natan', 'Filip'],
	'7J-JÄ™zyk_Piotrowski': ['Zuzia', 'Kasia', 'Maja'],
    '8A-JÄ™zyk_Piotrowski': ['Agata', 'Tadeusz', 'Piotr'],
    '8B-JÄ™zyk_Piotrowski': ['Gosia', 'Grzesiek', 'Agnieszka', 'Adam'],
    '8C-JÄ™zyk_Piotrowski': ['Wiesia', 'Alina', 'BoÅ¼ena', 'Halinka'],
    '1E-JÄ™zyk_Piotrowski': ['Ola', 'Maria', 'Marta'],
	'2G-JÄ™zyk_Piotrowski': ['Jagoda', 'Szymon', 'Antek', 'Lena'],
	'3H-JÄ™zyk_Piotrowski': ['Andrzej', 'Maciej', 'Patryk'],
    '4D-Przyroda': ['Mirek', 'Ela', 'Ula'],
	'5K-Biologia': ['Tymek','Tosia','DobromiÅ‚a','Kasjan'],
    '6I-Biologia': ['Jagoda', 'Krystian', 'Justyna'],
	'7FJ-Biologia': ['Ola', 'Julia', 'Natan', 'Filip', 'Zuzia', 'Kasia', 'Maja'],
	'8A-Biologia': ['Agata', 'Tadeusz', 'Piotr'],
	'Dodatkowa_Biologia': ['Jagoda', 'Krystian', 'Justyna', 'Agata', 'Tadeusz', 'Piotr', 'Ola', 'Julia', 'Natan', 'Filip', 'Zuzia', 'Kasia', 'Maja', 'Mirek', 'Ela', 'Ula'],
	'Edukacja_ogÃ³lna': ['Julia','Ola','Zuzia','Tadeusz','Grzesiek','Adam','Wiesia','BoÅ¼ena','Jagoda','Antek','Maciej','Tosia']
  };

  const tematy = {
  
      "6I-JÄ™zyk_Piotrowski": ["DZIAÅ 1 - WPROWADZENIE", "Kolory i pomieszczenia", "Alfabet i znaki piotrowskie", "DZIAÅ 2 - Liczby i daty", "Liczby","Daty", "DZIAÅ 3 - PIERWSZA GRAMATYKA", "Podstawy gramatyki piotrowskiej","Past simple - Wprowadzenie","Past simple - OgÃ³lnoÅ›Ä‡ i Upodobania","Past simple - RegularnoÅ›Ä‡ i jej czas","Past simple - OsobowoÅ›Ä‡ i jej opis", "DZIAÅ 4 - GRAMATYKA DODATKOWA", "Zaimki osobowe","Present Simple - Wprowadzenie","PowtÃ³rzenie do egzaminu 1", "PowtÃ³rzenie do egzaminu 2", "Egzamin szÃ³stoklasisty"],
	  "6L-JÄ™zyk_Piotrowski": ["DZIAÅ 0 - CAÅY PODRÄ˜CZNIK", "Alfabet i znaki piotrowskie", "Pomieszczenia", "Liczby", "MiesiÄ…ce, Daty", "Kolory", "Past simple - Wprowadzenie","Past simple - OgÃ³lnoÅ›Ä‡, Upodobania","Past simple - RegularnoÅ›Ä‡","Past simple - Opis osobowy",  "Zaimki osobowe" ,"PowtÃ³rzenie wiadomoÅ›ci", "Sprawdzian", "OmÃ³wienie sprawdzianu"],
      "7F-JÄ™zyk_Piotrowski": ["Inne", "DZIAÅ 1 - ZDROWIE","Choroby i bÃ³le","CzÄ™Å›ci ciaÅ‚a i zdrowy styl Å¼ycia","Past simple","Jak na egzaminie","DZIAÅ 2 - ÅšWIAT ORAZ PRZYRODA","Kontynenty oraz kraje","ZwierzÄ™ta, Krajobrazy, RoÅ›liny","Czas poprawny, Zapis czasu sÅ‚ownie","Present Simple","Jak na egzaminie (2)","DZIAÅ 3 - Å»YCIE PRYWATNE", "Rodzina i znajomi", "Czas wolny, Wydarzenia", "Present Cintus", "Jak na egzaminie (3)","DZIAÅ 4 - CZÅOWIEK", "Cechy charakteru, WyglÄ…d zewnÄ™trzny","Ubrania, Przedmioty osobiste", "Etapy Å¼ycia","Zaimki osobowe", "PorÃ³wnanie czasÃ³w teraÅºniejszych","Jak na egzaminie (4)"],
      "7J-JÄ™zyk_Piotrowski": ["Inne", "DZIAÅ 1 - CZÅOWIEK","Vocabulary (1)", "Gramar (1)", "Buking i writing (1)", "PowtÃ³rzenie wiadomoÅ›ci (1)","Sprawdzian (1)","OmÃ³wienie sprawdzianu (1)", "DZIAÅ 2 - ZDROWIE","Vocabulary (2)", "Gramar (2)", "Buking i writing (2)", "PowtÃ³rzenie wiadomoÅ›ci (2)","Sprawdzian (2)","OmÃ³wienie sprawdzianu (2)", "DZIAÅ 3 - Å»YCIE PRYWATNE","Vocabulary (3)", "Gramar (3)", "Buking i writing (3)", "PowtÃ³rzenie wiadomoÅ›ci (3)","Sprawdzian (3)","OmÃ³wienie sprawdzianu (3)", "DZIAÅ 4 - ÅšWIAT I PRZYRODA","Vocabulary (4)", "Gramar (4)", "Buking i writing (4)", "PowtÃ³rzenie wiadomoÅ›ci (4)","Sprawdzian (4)","OmÃ³wienie sprawdzianu (4)"],
      "8A-JÄ™zyk_Piotrowski": ["DZIAÅ 1 - PRACA", "Zawody", "Odmiana zawodÃ³w przez osoby", "Miejsca prac", "Present Simple", "Jak na egzaminie (1)", "DZIAÅ 2 - EDUKACJA", "Przedmioty fizyczne i lekcyjne", "Pracownicy i pomieszczenia", "Czasowniki szkolne", "Present Hadsing", "Jak na egzaminie (2)", "DZIAÅ 3 - DOM", "Rodzaje miejsc zamieszkania", "Meble wewnÄ™trzne", "Na zewnÄ…trz", "OkreÅ›lenia i pomieszczenia", "Present Past", "Jak na egzaminie (3)", "DZIAÅ 4 - LEKCJE DODATKOWE", "Zaimki osobowe", "Gramatyka piotrowska", "Jak na egzaminie (4)"],
      "8B-JÄ™zyk_Piotrowski": ["Inne", "DZIAÅ 1 - MIEJSCE ZAMIESZKANIA", "Vocabulary (1)", "Gramar (1)", "Buking i writing (1)", "PowtÃ³rzenie wiadomoÅ›ci (1)","Sprawdzian (1)","OmÃ³wienie sprawdzianu (1)", "DZIAÅ 2 - EDUKACJA","Vocabulary (2)", "Gramar (2)", "Buking i writing (2)", "PowtÃ³rzenie wiadomoÅ›ci (2)","Sprawdzian (2)","OmÃ³wienie sprawdzianu (2)", "DZIAÅ 3 - PRACA","Vocabulary (3)", "Gramar (3)", "Buking i writing (3)", "PowtÃ³rzenie wiadomoÅ›ci (3)","Sprawdzian (3)","OmÃ³wienie sprawdzianu (3)"],
	  "8C-JÄ™zyk_Piotrowski": ["Inne", "DZIAÅ 1 - MIEJSCE ZAMIESZKANIA", "Rodzaje miejsc zamieszkania","Meble","Na zewnÄ…trz","OkreÅ›lenia domÃ³w i pomieszczenia","Present simple","PowtÃ³rzenie wiadomoÅ›ci (1)","Sprawdzian (1)","OmÃ³wienie sprawdzianu (1)","DZIAÅ 2 - EDUKACJA","Przedmioty fizyczne","Przedmioty lekcyjne","Pracownicy i pomieszczenia w szkole","Czasowniki szkolne","Present hadsing","PowtÃ³rzenie wiadomoÅ›ci (2)","Sprawdzian (2)","OmÃ³wienie sprawdzianu (2)","DZIAÅ 3 - PRACA", "Zawody", "Odmiana zawodÃ³w przez osoby","Miejsca prac","Present past","Zaimki osobowe", "PowtÃ³rzenie wiadomoÅ›ci (3)","Sprawdzian (3)","OmÃ³wienie sprawdzianu (3)"],
	  "1E-JÄ™zyk_Piotrowski": ["Inne", "DZIAÅ 1 - SPORT","Vocabulary (1)", "Gramar (1)", "Buking i writing (1)", "PowtÃ³rzenie wiadomoÅ›ci (1)","Sprawdzian (1)","OmÃ³wienie sprawdzianu (1)", "DZIAÅ 2 - KULTURA","Vocabulary (2)", "Gramar (2)", "Buking i writing (2)", "PowtÃ³rzenie wiadomoÅ›ci (2)","Sprawdzian (2)","OmÃ³wienie sprawdzianu (2)", "DZIAÅ 3 - TRANSPORT I TURYSTYKA","Vocabulary (3)", "Gramar (3)", "Buking i writing (3)", "PowtÃ³rzenie wiadomoÅ›ci (3)","Sprawdzian (3)","OmÃ³wienie sprawdzianu (3)"],
	  "2G-JÄ™zyk_Piotrowski": ["Inne", "DZIAÅ 1 - ÅšWIAT PRZYRODY","Vocabulary (1)", "Gramar (1)", "Buking i writing (1)", "PowtÃ³rzenie wiadomoÅ›ci (1)","Sprawdzian (1)","OmÃ³wienie sprawdzianu (1)", "DZIAÅ 2 - ZDROWIE","Vocabulary (2)", "Gramar (2)", "Buking i writing (2)", "PowtÃ³rzenie wiadomoÅ›ci (2)","Sprawdzian (2)","OmÃ³wienie sprawdzianu (2)"],
	  "3H-JÄ™zyk_Piotrowski": ["Inne", "DZIAÅ 1 - Å»YWIENIE","Vocabulary (1)", "Gramar (1)", "Buking i writing (1)", "NagraÅ„ i lang funkq (1)", "PowtÃ³rzenie wiadomoÅ›ci (1)","Sprawdzian (1)","OmÃ³wienie sprawdzianu (1)", "DZIAÅ 2 - ZAKUPY I USÅUGI","Vocabulary (2)", "Gramar (2)", "Buking i writing (2)", "NagraÅ„ i lang funkq (2)", "PowtÃ³rzenie wiadomoÅ›ci (2)","Sprawdzian (2)","OmÃ³wienie sprawdzianu (2)"],
  	  "4D-Przyroda": ["DZIAÅ 1 - Poznajemy warsztat przyrodnika","Przyroda i jej skÅ‚adniki", "Jak poznawaÄ‡ przyrodÄ™?", "PrzyrzÄ…dy i pomoce przyrodnika","OkreÅ›lamy kierunki geograficzne", "PowtÃ³rzenie wiadomoÅ›ci (1)","Sprawdzian (1)","OmÃ³wienie sprawdzianu (1)", "DZIAÅ 2 - Poznajemy pogodÄ™ i inne zjawiska przyrodnicze", "Substancje wokÃ³Å‚ nas", "Woda wystÄ™puje w trzech stanach skupienia", "SkÅ‚adniki pogody","Obserwujemy pogodÄ™",",,WÄ™drÃ³wka'' SÅ‚oÅ„ca po niebie", "PowtÃ³rzenie wiadomoÅ›ci (2)","Sprawdzian (2)","OmÃ³wienie sprawdzianu (2)", "DZIAÅ 3 - Poznajemy Å›wiat organizmÃ³w", "Organizmy majÄ… wspÃ³lne cechy", "Organizmy rÃ³Å¼niÄ… siÄ™ sposobem odÅ¼ywiania","RoÅ›liny i zwierzÄ™ta wokÃ³Å‚ nas", "PowtÃ³rzenie wiadomoÅ›ci (3)","Sprawdzian (3)","OmÃ³wienie sprawdzianu (3)", "DZIAÅ 4 - Odkrywamy tajemnice ciaÅ‚a czÅ‚owieka","Trawienie i wchÅ‚anianie pokarmu", "UkÅ‚ad krwionoÅ›ny transportuje krew", "UkÅ‚ad oddechowy zapewnia wymianÄ™ gazowÄ…","Szkielet i miÄ™snie umoÅ¼liwiajÄ… ruch","UkÅ‚ad nerwowy kontroluje pracÄ™ organizmu","UkÅ‚ad rozrodczy umoÅ¼liwia wydawanie na Å›wiat potomstwa", "Dojrzewanie to czas wielkich zmian", "PowtÃ³rzenie wiadomoÅ›ci (4)","Sprawdzian (4)","OmÃ³wienie sprawdzianu (4)","DZIAÅ 5 - Odkrywamy tajemnice zdrowia","Zdrowy styl Å¼ycia", "Choroby zakaÅºne i pasoÅ¼ytnicze", "Jak postÄ™powaÄ‡ w niebezpiecznych sytuacjach?","Czym jest uzaleÅ¼nienie?", "PowtÃ³rzenie wiadomoÅ›ci (5)","Sprawdzian (5)","OmÃ³wienie sprawdzianu (5)", "DZIAÅ 6 - ORIENTUJEMY SIÄ˜ W TERENIE", "Co pokazujemy na planach?", "Jak czytamy mapy i plany?", "Jak siÄ™ orientowaÄ‡ w terenie?", "PowtÃ³rzenie wiadomoÅ›ci (6)", "Sprawdzian (6)", "OmÃ³wienie sprawdzianu (6)", "DZIAÅ 7 - Poznajemy krajobraz najbliÅ¼szej okolicy","Rodzaje krajobrazÃ³w", "UksztaÅ‚towanie terenu", "Czy wszystkie skaÅ‚y sÄ… twarde?","Wody sÅ‚odkie i sÅ‚one","Krajobraz wczoraj i dziÅ›", "Obszary i obiekty chronione", "PowtÃ³rzenie wiadomoÅ›ci (7)","Sprawdzian (7)","OmÃ³wienie sprawdzianu (7)", "DZIAÅ 8 - Odkrywamy tajemnice Å¼ycia w wodzie i na lÄ…dzie","Warunki Å¼ycia w wodzie", "Z biegiem rzeki", "Å»ycie w jeziorze","Warunki Å¼ycia na lÄ…dzie","Las ma budowÄ™ warstwowÄ…", "Jakie drzewa rosnÄ… w lesie?", "Na Å‚Ä…ce", "Na polu uprawnym", "PowtÃ³rzenie wiadomoÅ›ci (8)","Sprawdzian (8)","OmÃ³wienie sprawdzianu (8)"],
	  "5K-Biologia": ["Inne", "DZIAÅ 1 - Biologia - nauka o Å¼yciu", "Biologia jako nauka", "Jak poznawaÄ‡ biologiÄ™", "Obserwacje mikroskopowe", "PowtÃ³rzenie wiadomoÅ›ci (1)", "Praca klasowa (1)", "OmÃ³wienie pracy klasowej (1)", "DZIAÅ 2 - Budowa i czynnoÅ›ci Å¼yciowe organizmÃ³w", "SkÅ‚adniki chemiczne organizmÃ³w", "Budowa komÃ³rki zwierzÄ™cej", "KomÃ³rka roÅ›linna. 1nne rodzaje komÃ³rek", "SamoÅ¼ywnoÅ›Ä‡", "CudzoÅ¼ywnoÅ›Ä‡", "Sposoby oddychania organizmÃ³w", "PowtÃ³rzenie wiadomoÅ›ci (2)", "Praca klasowa (2)", "OmÃ³wienie pracy klasowej (2)", "DZIAÅ 3 - Wirusy, bakterie, protisty i grzyby", "Klasyfikacja organizmÃ³w", "Wirusy i bakterie", "RÃ³Å¼norodnoÅ›Ä‡ protistÃ³w", "Budowa i roÅ¼norodnoÅ›Ä‡ grzybÃ³w. Protosty", "PowtÃ³rzenie wiadomoÅ›ci (3)", "Praca klasowa (3)", "OmÃ³wienie pracy klasowej (3)", "DZIAÅ 4 - Tkanki i organy roÅ›l1nne", "Tkanki roÅ›l1nne", "KorzeÅ„  organ podziemny roÅ›liny", "PÄ™d. Budowa i funkcje Å‚odygi", "LiÅ›Ä‡ - wytwÃ³rnia pokarmu", "PowtÃ³rzenie wiadomoÅ›ci (4)", "Praca klasowa (4)", "OmÃ³wienie pracy klasowej (4)", "DZIAÅ 5 - RÃ³Å¼norodnoÅ›Ä‡ roÅ›lin", "Mchy", "Paprotniki", "Nagonasienne", "Okrytonasienne", "Rozprzestrzenianie siÄ™ roÅ›lin okrytonasiennych", "Znaczenie i przeglÄ…d roÅ›lin okrytonasiennych", "PowtÃ³rzenie wiadomoÅ›ci (5)", "Praca klasowa (5)", "OmÃ³wienie pracy klasowej (5)"],
	  "6I-Biologia": ["Inne", "DZIAÅ 1 - Åšwiat zwierzÄ…t","W krÃ³lestwie zwierzÄ…t", "Tkanki : NabÅ‚onkowa, miÄ™Å›niowa i nerwowa", "Tkanka ÅÄ…czna", "PowtÃ³rzenie wiadomoÅ›ci (1)","Sprawdzian (1)","OmÃ³wienie sprawdzianu (1)", "DZIAÅ 2 - Od parzydeÅ‚kowcÃ³w do pierÅ›cienic","ParzydeÅ‚kowce - najprostrze zwierzÄ™ta tkankowe", "PÅ‚aziÅ„ce - zwierzÄ™ta, ktÃ³re majÄ… pÅ‚askie ciaÅ‚o", "Nicienie - zwierzÄ™ta, ktÃ³re majÄ… nitkowate ciaÅ‚o","PierÅ›cienice - zwierzÄ™ta ktÃ³re majÄ… segemntowane ciaÅ‚o", "PowtÃ³rzenie wiadomoÅ›ci (2)","Sprawdzian (2)","OmÃ³wienie sprawdzianu (2)", "DZIAÅ 3 - Stawonogi i miÄ™czaki","Cechy stawonogÃ³w", "Skorupiaki - stawonogi, ktÃ³re majÄ… twardy pancerz", "Owady - stawonogi zdolne do lotu","PajÄ™czaki - stawonogi, ktÃ³re majÄ… czety pary odnÃ³Å¼y","MiÄ™czaki - zwierzÄ™ta ktÃ³re majÄ… muszlÄ™", "PowtÃ³rzenie wiadomoÅ›ci (3)","Sprawdzian (3)","OmÃ³wienie sprawdzianu (3)","DZIAÅ 4 - KrÄ™gowce zmiennocieplne","Ryby - KrÄ™gowce Å›rodowisk wodnych", "PrzeglÄ…d i znaczenie ryb", "PÅ‚azy - KrÄ™gowce wodno-lÄ…dowe","PrzeglÄ…d i znaczenie pÅ‚azÃ³w","Gady - KrÄ™gowce, ktÃ³re opanowaÅ‚y lÄ…d","PrzeglÄ…d i znaczenie gadÃ³w", "PowtÃ³rzenie wiadomoÅ›ci (4)","Sprawdzian (4)","OmÃ³wienie sprawdzianu (4)", "DZIAÅ 5 - KrÄ™gowce staÅ‚ocieplne","Ptaki - KrÄ™gowce zdolne do lotu", "PrzeglÄ…d i znaczenie ptakÃ³w", "Ssaki - krÄ™gowce, ktÃ³re karmiÄ… mÅ‚ode mlekiem","PrzeglÄ…d i znaczenie ssakÃ³w", "PowtÃ³rzenie wiadomoÅ›ci (3)","Sprawdzian (3)","OmÃ³wienie sprawdzianu (3)"],
	  "7FJ-Biologia": ["Inne", "DZIAÅ 1 - Organizm czÅ‚owieka. SkÃ³ra - powÅ‚oka organizmu", "Organizm czÅ‚owieka jako funkcjonalna caÅ‚oÅ›Ä‡", "Budowa i funkcje skÃ³ry", "Higiena i choroby skÃ³ry", "PowtÃ³rzenie wiadomoÅ›ci (1)", "Praca klasowa (1)", "OmÃ³wienie pracy klasowej (1)", "DZIAÅ 2 - Aparat ruchu", "Aparat ruchu. Budowa szkieletu", "Budowa koÅ›ci", "Budowa i rola szkieletu osiowego", "Szkielet koÅ„czyn", "Budowa i rola miÄ™Å›ni", "Higienia i choroby aparatu ruchu", "PowtÃ³rzenie wiadomoÅ›ci (2)", "Praca klasowa (2)", "OmÃ³wienie pracy klasowej (2)", "DZIAÅ 3 - UkÅ‚ad pokarmowy", "Pokarm - budulec i ÅºrÃ³dÅ‚o energii", "Witaminy, sole mineralne, woda", "Budowa i rola ukÅ‚adu pokarmowego", "Higienia i choroby ukÅ‚adu pokarmowego", "PowtÃ³rzenie wiadomoÅ›ci (3)", "Praca klasowa (3)", "OmÃ³wienie pracy klasowej (3)", "DZIAÅ 4 - UkÅ‚ad krÄ…Å¼enia", "Budowa i funckje krwi", "KrÄ…Å¼enie krwi", "Budowa i dziaÅ‚anie serca", "Higienia i choroby ukÅ‚adu krwionoÅ›nego", "UkÅ‚ad limfatyczny", "Budowa i dziaÅ‚anie ukÅ‚adu odpornoÅ›ciowego", "Zaburzenia funkcjonowania ukÅ‚adu odpornoÅ›ciowego", "PowtÃ³rzenie wiadomoÅ›ci (4)", "Praca klasowa (4)", "OmÃ³wienie pracy klasowej (4)", "DZIAÅ 5 - UkÅ‚ad oddechowy", "Budowa i rola ukÅ‚adu oddechowego", "Mechanizm oddychania", "Higienia i choroby ukÅ‚adu oddechowego", "PowtÃ³rzenie wiadomoÅ›ci (5)", "Praca klasowa (5)", "OmÃ³wienie pracy klasowej (5)", "DZIAÅ 6 - UkÅ‚ad Wydalniczy", "Budowa i dziaÅ‚anie ukÅ‚adu wydalniczego", "Higienia i choroby ukÅ‚adu wydalniczego", "PowtÃ³rzenie wiadomoÅ›ci (6)", "Praca klasowa (6)", "OmÃ³wienie pracy klasowej (6)", "DZIAÅ 7 - Regulacja nerwowo-hormonalna", "Budowa i funkcjonowanie ukÅ‚adu hormonalnego", "Zaburzenia funkcjonowania ukÅ‚adu hormonalnego", "Budowa i rola ukÅ‚adu hormonalnego", "OÅ›rodkowy ukÅ‚ad nerwowy", "Obwodowy ukÅ‚ad nerwowy. Odruchy", "Higiena ukÅ‚adu nerwowego", "PowtÃ³rzenie wiadomoÅ›ci (7)", "Praca klasowa (7)", "OmÃ³wienie pracy klasowej (7)", "DZIAÅ 8 - NarzÄ…dy zmysÅ‚Ã³w", "Budowa i dziaÅ‚anie narzÄ…du wzroku", "Ucho - narzÄ…d sÅ‚uchu i rÃ³wnowagi", "Higienia oka i ucha", "ZmysÅ‚y powonienia, smaku i dotyku", "PowtÃ³rzenie wiadomoÅ›ci (8)", "Praca klasowa (8)", "OmÃ³wienie pracy klasowej (8)", "DZIAÅ 9 - RozmnaÅ¼anie i rozwÃ³j czÅ‚owieka", "MÄ™ski ukÅ‚ad rozrodczy", "Å»eÅ„ski ukÅ‚ad rozrodczy", "Funkcjonowanie Å¼eÅ„skiego ukÅ‚adu rozrodczego", "RozwÃ³j czÅ‚owieka - od poczÄ™cia do narodzin", "RozwÃ³j czÅ‚owieka - od narodzin do staroÅ›ci", "Higienia i choroby ukÅ‚adu rozrodczego", "PowtÃ³rzenie wiadomoÅ›ci (9)", "Praca klasowa (9)", "OmÃ³wienie pracy klasowej (9)", "DZIAÅ 10 - RÃ³wnowaga wewnÄ™trzn organizmu", "Mechanizmy regulacyjne organizmu", "Choroba - zaburzenie homeostazy", "PowtÃ³rzenie wiadomoÅ›ci (10)", "Praca klasowa (10)", "OmÃ³wienie pracy klasowej (10)"],
	  "8A-Biologia": ["Inne", "DZIAÅ 1 - Genetyka", "Czym jest genetyka?", "NoÅ›nik informacji genetycznej - DNA", "PodziaÅ‚y komÃ³rkowe", "Podstawowe prawa dziedziczenia", "Dziedziczenie cech u czÅ‚owieka", "Dziedziczenie ", "Dziedziczenie pÅ‚ci u czÅ‚owieka", "Dziedziczenie grup krwi", "Mutacje", "PowtÃ³rzenie wiadomoÅ›ci (1)", "Praca klasowa (1)", "OmÃ³wienie pracy klasowej (1)", "DZIAÅ 2 - Ewolucja Å¼ycia", "Å¹rÃ³dÅ‚a wiedzy o ewolucji", "Mechanizmy ewolucji", "Pochodznie czÅ‚owieka", "PowtÃ³rzenie wiadomoÅ›ci (2)", "Praca klasowa (2)", "OmÃ³wienie pracy klasowej (2)", "DZIAÅ 3 - Ekologia", "Organizm a Å›rodowisko", "Cechy populacji", "Konkurencja", "DrapieÅ¼nictwo. RoÅ›linoÅ¼ernoÅ›Ä‡", "PasyÅ¼ytnictwo", "Nieantagonistyczne zaleÅ¼noÅ›ci miÄ™dzy gatunkami", "Czym jest ekosystem?", "ZaleÅ¼noÅ›ci pokarmowe", "Materia i energia w ekosystemie", "PowtÃ³rzenie wiadomoÅ›ci (3)", "Praca klasowa (3)", "OmÃ³wienie pracy klasowej (3)", "DZIAÅ 4 - CzÅ‚owiek i Å›rodowisko", "RoÅ¼norodnoÅ›Ä‡ biologiczna", "WpÅ‚yw czÅ‚owieka na rÃ³Å¼norodnoÅ›Ä‡ biologicznÄ…", "Racjonalne gospodarowanie zasobami przyrody", "Sposoby ochrony przyrody", "PowtÃ³rzenie wiadomoÅ›ci (4)", "Praca klasowa (4)", "OmÃ³wienie pracy klasowej (4)"],
	  "Dodatkowa_Biologia": ["Inne", "DZIAÅ 1 - Biologia jako nauka o Å¼yciu","Biologia jako nauka o Å¼yciu", "Dziedziny biologii", "Metody badawcze w biologii", "DZIAÅ 2 - Organizacja i chemizm Å¼ycia","Pierwiastki budujÄ…ce ciaÅ‚o organizmÃ³w", "Znaczenie wody dla funkcjonowania organizmÃ³w", "SkÅ‚ad chemiczny komÃ³rek", "Fotosynteza, oddychanie tlenowe i fermnentacja jako procesy dostarczajÄ…ce energii", "Czynniki niezbÄ™dne do Å¼ycia dla organizmÃ³w samoÅ¼ywnych i cudzoÅ¼ywnych", "DZIAÅ 3 - Budowa i funkcjonowanie komÃ³rki","Rodzaje komÃ³rek", "Struktury komÃ³rkowe i ich funkcje", "PorÃ³wnanie budowy komÃ³rki zwierzÄ™cej, roÅ›linnej i bakteryjnej.","DZIAÅ 4 - Budowa i funkcjonowanie organizmu roÅ›linnego","Organy roÅ›linne - wegetatywne i generatywne", "Mszaki", "Paprociowe","RoÅ›liny nagonasienne","RoÅ›liny okrytonasienne", "DZIAÅ 5 - RÃ³Å¼norodnoÅ›Ä‡ Å¼ycia", "System klasyfikacji biologicznej", "Wirusy - najmniejsi zabÃ³jcy Å›wiat; podstawy mikrobiologii", "Bakterie","Grzyby", "Porosty","ZwierzÄ™ta","Cechy wybranych grup zwierzÄ…t - bezkrÄ™gowce", "Cechy wybranych grup zwierzÄ…t - krÄ™gowce", "PorÃ³wnanie cech morfologicznych, Å›rodowiska i trybu Å¼ycia wybranych grup zwierzÄ…t", "DZIAÅ 6 - Organizm czÅ‚owieka", "Tkanki", "UkÅ‚ady narzÄ…dÃ³w i ich rola w organizmie", "UkÅ‚ad ruchu", "UkÅ‚ad pokarmowy i odÅ¼ywianie", "UkÅ‚ad oddechowy", "UkÅ‚ad krÄ…Å¼enia", "UkÅ‚ad limfatyczny", "UkÅ‚ad odpornoÅ›ciowy", "UkÅ‚ad wydalniczy", "UkÅ‚ad nerwowy", "NarzÄ…dy zmysÅ‚Ã³w", "UkÅ‚ad hormonalny", "SkÃ³ra czÅ‚owieka", "RozmnaÅ¼anie i rozwÃ³j", "RÃ³wnowaga wewnÄ™rzna organizmu - homeostaza", "DZIAÅ 7 - Genetyka", "Proces mitozy i mejozy", "Budowa i funkcja DNA", "Dziedziczenie cech jednogenowych", "Mutacje i ich rodzaje", "DZIAÅ 8 - Ewolucja Å¼ycia", "Dowody ewolucji", "Mechanizmy ewolucji", "Jak powstajÄ… nowe gatunki?", "Historia i pochodzenie czÅ‚owieka", "Przebieg ewolucji czÅ‚owieka", "DZIAÅ 9 - Ekologia", "Organizm i Å›rodowisko", "Populacja i jej cechy", "Interakcje w populacji", "Ekosystem", "DZIAÅ 10 - ZagroÅ¼enia rÃ³Å¼norodnoÅ›ci biologicznej", "KoniecznoÅ›Ä‡ ochrony rÃ³Å¼norodnoÅ›ci biologicznej", "Zanieczyszczenia powietrza", "Zanieszczynia wody i gleby", "Ochrona Å›rodowiska"],
	  "Edukacja_ogÃ³lna": ["Inne","Temat edukacji ogÃ³lnej", "PowtÃ³rzenie przed sprawdzianem","Sprawdzian/Praca pisemna", "OmÃ³wienie sprawdzianu"]
 
	};

	const kolory = {
  '6I-JÄ™zyk_Piotrowski': "#4CAF50",
  '6L-JÄ™zyk_Piotrowski': "#4CAF50",
  '7F-JÄ™zyk_Piotrowski': "#4CAF50",
  '7J-JÄ™zyk_Piotrowski': "#4CAF50",
  '8A-JÄ™zyk_Piotrowski': "#4CAF50",
  '8B-JÄ™zyk_Piotrowski': "#4CAF50",
  '8C-JÄ™zyk_Piotrowski': "#4CAF50", 
  '1E-JÄ™zyk_Piotrowski': "#2196F3", 
  '2G-JÄ™zyk_Piotrowski': "#2196F3", 
  '3H-JÄ™zyk_Piotrowski': "#2196F3",  
  '4D-Przyroda': "#2196F3", 
  '5K-Biologia': "#2196F3", 
  '6I-Biologia': "#2196F3", 
  '7FJ-Biologia': "#2196F3", 
  '8A-Biologia': "#FF9800",
  'Edukacja_ogÃ³lna': "#9C27B0",
  'Dodatkowa_Biologia': "#FF9800" 
};

  const klasaSelect = document.getElementById("klasa-select");
  const tematSelect = document.getElementById("temat-select");

  function updateTematy() {
  tematSelect.innerHTML = "";
  const klasa = klasaSelect.value;

  const klucz = `lekcje_${klasa}`;
  const lekcje = JSON.parse(localStorage.getItem(klucz)) || [];
  const zrealizowaneTematy = new Set(lekcje.map(l => l.temat));

  if (tematy[klasa]) {
    tematy[klasa].forEach(t => {
      const option = document.createElement("option");
      option.value = t;
      option.textContent = t;

      if (t.startsWith("DZIAÅ")) {
        option.classList.add("dzial-option");
      }
		// ðŸ”¹ Lista pominiÄ™tych tematÃ³w w localStorage
function getPominieteTematy(klasa) {
  return JSON.parse(localStorage.getItem(`pominiete_${klasa}`)) || [];
}

function zapiszPominieteTematy(klasa, lista) {
  localStorage.setItem(`pominiete_${klasa}`, JSON.stringify(lista));
}

// ðŸ”¹ Oznaczanie tematÃ³w na liÅ›cie
function updateTematy() {
  tematSelect.innerHTML = "";
  const klasa = klasaSelect.value;
  const klucz = `lekcje_${klasa}`;
  const lekcje = JSON.parse(localStorage.getItem(klucz)) || [];
  const zrealizowaneTematy = new Set(lekcje.map(l => l.temat));
  const pominiete = getPominieteTematy(klasa);

  if (tematy[klasa]) {
    tematy[klasa].forEach(t => {
      const option = document.createElement("option");
      option.value = t;
      option.textContent = t + (pominiete.includes(t) ? " (pominiÄ™ty)" : "");
      if (t.startsWith("DZIAÅ")) option.classList.add("dzial-option");

      // kolory
      if (zrealizowaneTematy.has(t)) option.style.backgroundColor = "yellow";
      if (pominiete.includes(t)) option.style.color = "#888"; // wyszarz
      tematSelect.appendChild(option);
    });
  }

  wybierzNastepnyTemat(klasa, zrealizowaneTematy);
}

// ðŸ”¹ Funkcja do pomijania/odznaczania tematÃ³w
function togglePominTemat() {
  const klasa = klasaSelect.value;
  const temat = tematSelect.value;
  if (!temat) return;

  let pominiete = getPominieteTematy(klasa);

  if (pominiete.includes(temat)) {
    // Cofnij pominiÄ™cie
    pominiete = pominiete.filter(t => t !== temat);
  } else {
    // Dodaj do pominiÄ™tych
    pominiete.push(temat);
  }

  zapiszPominieteTematy(klasa, pominiete);
  updateTematy();
  pokazPostep(klasa);
}




      const tLower = t.toLowerCase();  
      if (
        tLower.includes("powtÃ³rzenie wiadomoÅ›ci") ||
        tLower.includes("sprawdzian") ||
        tLower.includes("omÃ³wienie sprawdzianu") ||
        tLower.includes("powtÃ³rzenie do egzaminu 1") ||
        tLower.includes("powtÃ³rzenie do egzaminu 2") ||
        tLower.includes("egzamin szÃ³stoklasisty") ||
        tLower.includes("jak na egzaminie") ||
		tLower.includes("praca klasowa") ||
		tLower.includes("omÃ³wienie pracy klasowej") ||
        tLower.includes("inne")
      ) {
        option.style.backgroundColor = "#ccffcc"; // jasnozielony
      }

      if (zrealizowaneTematy.has(t)) {
        option.style.backgroundColor = "yellow"; // temat juÅ¼ zrobiony
      }

      tematSelect.appendChild(option);
    });
  }

  // automatycznie zaznacz nastÄ™pny temat
  wybierzNastepnyTemat(klasa, zrealizowaneTematy);
}

function wybierzNastepnyTemat(klasa, zrealizowaneTematy) {
  const lista = tematy[klasa] || [];

  for (let temat of lista) {
    if (!zrealizowaneTematy.has(temat) && !temat.startsWith("DZIAÅ")) {
      tematSelect.value = temat;
      break;
    }
  }
}

  function pokazFrekwencje(klasa) {
    const kontener = document.getElementById("frekwencja-box");
    kontener.innerHTML = "";

    if (!uczniowie[klasa]) return;

    uczniowie[klasa].forEach((uczen, index) => {
      const wrapper = document.createElement("div");
      wrapper.className = "frekwencja-wrapper";

      const label = document.createElement("label");
      label.textContent = uczen;
      wrapper.appendChild(label);

      ["ObecnoÅ›Ä‡", "SpÃ³Åºnienie", "NieobecnoÅ›Ä‡ nieusprawiedliwiona", "NieobecnoÅ›Ä‡ usprawiedliwiona", "Zwolnienie", "Rekolekcje", "Egzamin", "Sanatorium", "Wycieczka", "Konkurs", "Wolontariat"].forEach(opcja => {
        const radio = document.createElement("input");
        radio.type = "radio";
        radio.name = `frekwencja_${index}`;
        radio.value = opcja;

        const span = document.createElement("span");
        span.textContent = opcja;

        wrapper.appendChild(radio);
        wrapper.appendChild(span);
      });

      kontener.appendChild(wrapper);
    });
  }

  function zapiszLekcje() {
    const data = document.getElementById("data").value;
    const klasa = klasaSelect.value;
    const temat = tematSelect.value;
    const opis = document.getElementById("opis").value;

    if (!data || !temat) {
      alert("UzupeÅ‚nij wszystkie dane.");
      return;
    }

    const frekwencja = [];
    if (uczniowie[klasa]) {
      uczniowie[klasa].forEach((uczen, index) => {
        const zaznaczona = document.querySelector(`input[name="frekwencja_${index}"]:checked`);
        frekwencja.push({ uczen, status: zaznaczona ? zaznaczona.value : "Brak danych" });
      });
    }

    const nowaLekcja = { data, klasa, temat, opis, frekwencja };
    const klucz = `lekcje_${klasa}`;
    const istniejace = JSON.parse(localStorage.getItem(klucz)) || [];
    istniejace.push(nowaLekcja);
    localStorage.setItem(klucz, JSON.stringify(istniejace));
    pokazHistorieLekcji(klasa);
    document.getElementById("data").value = "";
    document.getElementById("opis").value = "";
    updateTematy();
    pokazFrekwencje(klasa);
  }
  
 function usunLekcje(index, klasa) {
  const klucz = `lekcje_${klasa}`;
  const lekcje = JSON.parse(localStorage.getItem(klucz)) || [];
  if (confirm("Czy na pewno chcesz usunÄ…Ä‡ tÄ™ lekcjÄ™?")) {
    lekcje.splice(index, 1);
    localStorage.setItem(klucz, JSON.stringify(lekcje));
    pokazHistorieLekcji(klasa);
    pokazPostep(klasa);
  }
}
function edytujLekcje(index, klasa) {
  const klucz = `lekcje_${klasa}`;
  const lekcje = JSON.parse(localStorage.getItem(klucz)) || [];
  const lekcja = lekcje[index];

  document.getElementById("data").value = lekcja.data;
  document.getElementById("opis").value = lekcja.opis || "";
  klasaSelect.value = lekcja.klasa;
  updateTematy();
  tematSelect.value = lekcja.temat;

  pokazFrekwencje(klasa);

  if (lekcja.frekwencja) {
    lekcja.frekwencja.forEach((f, i) => {
      const radio = document.querySelectorAll(`input[name="frekwencja_${i}"]`);
      radio.forEach(r => {
        if (r.value === f.status) {
          r.checked = true;
        }
      });
    });
  }

  // UsuniÄ™cie starej wersji, przed zapisaniem nowej
  lekcje.splice(index, 1);
  localStorage.setItem(klucz, JSON.stringify(lekcje));
  pokazHistorieLekcji(klasa);
  pokazPostep(klasa);
}


  function pokazHistorieLekcji(klasa) {
    const ul = document.getElementById("historia-lekcji");
    ul.innerHTML = "";
    const klucz = `lekcje_${klasa}`;
    const lekcje = JSON.parse(localStorage.getItem(klucz)) || [];

    lekcje.forEach((lekcja, index) => {
  const li = document.createElement("li");
  li.innerHTML = `<strong>${lekcja.data}:</strong> ${lekcja.temat}<br>${lekcja.opis || ""}`;

  if (lekcja.frekwencja && lekcja.frekwencja.length) {
    li.innerHTML += `<br><strong>Frekwencja:</strong><ul>${
      lekcja.frekwencja.map(f => `<li>${f.uczen}: ${f.status}</li>`).join("")
    }</ul>`;
  }

  // Dodaj przyciski Edytuj i UsuÅ„
  const edytujBtn = document.createElement("button");
  edytujBtn.textContent = "Edytuj";
  edytujBtn.onclick = () => edytujLekcje(index, klasa);

  const usunBtn = document.createElement("button");
  usunBtn.textContent = "UsuÅ„";
  usunBtn.onclick = () => usunLekcje(index, klasa);

  li.appendChild(edytujBtn);
  li.appendChild(usunBtn);
  ul.appendChild(li);
});

  }

// ðŸ”¹ Przycisk do pomijania tematÃ³w
const pominBtn = document.createElement("button");
pominBtn.textContent = "PomiÅ„ / Cofnij temat";
pominBtn.onclick = togglePominTemat;
document.getElementById("temat-select").insertAdjacentElement("afterend", pominBtn);

	
  klasaSelect.addEventListener("change", () => {
    updateTematy();
    pokazFrekwencje(klasaSelect.value);
    pokazHistorieLekcji(klasaSelect.value);
	pokazPostep(klasaSelect.value);
  });

  document.addEventListener("DOMContentLoaded", () => {
  updateTematy();
  pokazFrekwencje(klasaSelect.value);
  pokazHistorieLekcji(klasaSelect.value);
  pokazPostep(klasaSelect.value); // â† TO DODAJ
});
pokazTabeleWyboruKlasy();

  function zaznaczWszystkichObecnosc() {
  const kontener = document.getElementById("frekwencja-box");
  const radios = kontener.querySelectorAll('input[type="radio"]');

  radios.forEach(radio => {
    if (radio.value === "ObecnoÅ›Ä‡") {
      radio.checked = true;
    }
  });
}
klasaSelect.addEventListener("change", () => {
  const selected = klasaSelect.value;
  const form = document.getElementById("lekcja-form");

  if (selected) {
    form.style.display = "block";
    updateTematy();
    pokazFrekwencje(selected);
    pokazHistorieLekcji(selected);
    pokazPostep(selected);
  } else {
    form.style.display = "none";
  }
});
function pokazTabeleWyboruKlasy() {
  const tabela = document.querySelector("#tabela-klas tbody");
  tabela.innerHTML = "";

  Object.keys(tematy).forEach(klasa => {
    const klucz = `lekcje_${klasa}`;
    const lekcje = JSON.parse(localStorage.getItem(klucz)) || [];
    const ostatnia = lekcje.length ? lekcje[lekcje.length - 1] : null;

    const tr = document.createElement("tr");

    // nazwa klasy (dla 2H-JÄ™zyk_Piotrowski przekreÅ›lona)
    const nazwaKlasy = klasa === "2H-JÄ™zyk_Piotrowski"
      ? `<span style="text-decoration: line-through;">${klasa}</span>`
      : klasa;

    tr.innerHTML = `
      <td style="background-color:${kolory[klasa] || 'transparent'}; width: 10px;"></td>
      <td>${nazwaKlasy}</td>
      <td>${ostatnia ? ostatnia.temat : '<em>â€“</em>'}</td>
      <td>${ostatnia ? ostatnia.data : '<em>â€“</em>'}</td>
      <td>
        <button onclick="wybierzKlase('${klasa}')">Wybierz i sprawdÅº obecnoÅ›Ä‡</button>
      </td>
    `;

    tabela.appendChild(tr);
  });
}



function wybierzKlase(klasa) {
  document.getElementById("klasa-select").value = klasa;
  document.getElementById("lekcja-form").style.display = "block";
  document.getElementById("wybor-klasy").style.display = "none";
  document.getElementById("historia-box").style.display = "block";

  // âœ¨ Dodaj ten wiersz:
  document.getElementById("wybrana-klasa").textContent = "Wybrana klasa: " + klasa;

  updateTematy();
  pokazFrekwencje(klasa);
  pokazHistorieLekcji(klasa);
  pokazPostep(klasa);
}



<footer style="text-align: center; padding: 20px; background-color: #f0f0f0;">
  <div style="margin-bottom: 10px;">
    <img src="teamppp.png" alt="Team P" style="width: 200px; margin: 0 20px;">
    <img src="21 maj 2025, 16_13_32.png" alt="p-librus" style="width: 200px; margin: 0 20px;">
    <img src="stpschool.png" alt="STP School" style="width: 200px; margin: 0 20px;">
  </div>
  <p style="font-size: 14px; color: #555;">P-Librus Â© 2025</p>
</footer>


	
</body>
</html>








